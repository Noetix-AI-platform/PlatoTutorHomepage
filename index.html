<html lang="en" class="antialiased scroll-smooth"><head><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aletheia | The Unified Field</title>
<!-- Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,500;0,600;1,400&amp;family=Inter:wght@300;400;500;600&amp;display=swap" rel="stylesheet">
<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/iconify-icon@1.0.7/dist/iconify-icon.min.js"></script>
<script src="https://cdn.tailwindcss.com"></script>

<style>
/* --- CORE PHYSICS VARIABLES --- */
:root {
--cx: 50vw;
--cy: 50vh;
--torch-radius: 450px;
--blur-strength: 60px;
}
body {
background-color: #050505;
color: #FDFDFB;
overflow-x: hidden;
cursor: none;
transition: background-color 1.5s cubic-bezier(0.16, 1, 0.3, 1);
}
/* --- Z-INDEX HIERARCHY --- */
/* Z-0: Base Fragments */
.fragment-layer {
z-index: 0;
pointer-events: none;
}
/* Z-10: Main Content */
.content-layer {
z-index: 10;
position: relative;
}
/* Z-15: Luminosity Boost (The "Burn" Effect) */
#lumen-boost {
position: fixed;
top: 0; left: 0;
width: 100vw; height: 100vh;
pointer-events: none;
z-index: 15;
background: radial-gradient(
circle 300px at var(--cx) var(--cy),
rgba(255, 255, 255, 0.08),
transparent 60%
);
mix-blend-mode: overlay;
opacity: 0;
}
/* Z-20: THE VEIL (The Darkness) */
#the-veil {
position: fixed;
inset: 0;
z-index: 20;
background-color: #000000;
pointer-events: none;
will-change: mask-image, backdrop-filter;
transition: opacity 1.2s cubic-bezier(0.16, 1, 0.3, 1);
/* Noise Texture for "Frost" Effect */
background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.07'/%3E%3C/svg%3E");
/* The Diffused Torch Mask - Much softer edge */
mask-image: radial-gradient(
circle var(--torch-radius) at var(--cx) var(--cy),
transparent 0px,
transparent 100px, /* Smaller clear core */
rgba(0,0,0,0.1) 200px,
rgba(0,0,0,0.4) 350px,
rgba(0,0,0,0.9) 550px,
black 800px /* Very long falloff */
);
-webkit-mask-image: radial-gradient(
circle var(--torch-radius) at var(--cx) var(--cy),
transparent 0px,
transparent 100px,
rgba(0,0,0,0.1) 200px,
rgba(0,0,0,0.4) 350px,
rgba(0,0,0,0.9) 550px,
black 800px
);
backdrop-filter: blur(var(--blur-strength));
-webkit-backdrop-filter: blur(var(--blur-strength));
}
/* Z-30: Cursor Halo (Replaces the gray dot) */
#cursor-ui {
position: fixed;
top: 0; left: 0;
width: 300px; height: 300px; /* Large halo */
pointer-events: none;
z-index: 30;
transform: translate3d(calc(var(--cx) - 150px), calc(var(--cy) - 150px), 0);
mix-blend-mode: soft-light;
background: radial-gradient(
circle,
rgba(212, 175, 55, 0.15) 0%,
rgba(212, 175, 55, 0.05) 30%,
transparent 70%
);
transition: opacity 0.3s ease;
}
/* Z-40: Cursor Dot (high-contrast pointer locator) */
#cursor-dot {
position: fixed;
top: 0;
left: 0;
width: 8px;
height: 8px;
border-radius: 9999px;
pointer-events: none;
z-index: 40;
transform: translate3d(calc(var(--cx) - 4px), calc(var(--cy) - 4px), 0);
will-change: transform;
transition: none;
background: rgba(255, 255, 255, 0.92);
border: 1px solid rgba(0, 0, 0, 0.28);
box-shadow:
0 0 0 2px rgba(212, 175, 55, 0.10),
0 0 18px rgba(212, 175, 55, 0.22);
}
#cursor-dot::after {
content: '';
position: absolute;
inset: -10px;
border-radius: 9999px;
transform: translate3d(6px, 7px, 0);
background: radial-gradient(circle, rgba(212,175,55,0.14) 0%, rgba(212,175,55,0.06) 28%, rgba(212,175,55,0.00) 68%);
opacity: 0.9;
}
/* --- COMPONENT STYLES --- */
/* 1. GRAIN TEXTURE */
.hero-grain {
position: fixed;
inset: 0;
z-index: 1;
pointer-events: none;
opacity: 0.05;
background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
mix-blend-mode: overlay;
}
/* 2. AMBIENT BREATHING LIGHT */
.ambient-hint {
position: fixed;
top: 50%;
left: 50%;
transform: translate(-50%, -50%);
width: 40vw;
height: 40vw;
background: radial-gradient(circle, rgba(212, 175, 55, 0.03) 0%, transparent 70%);
border-radius: 50%;
z-index: 5;
pointer-events: none;
animation: pulse-slow 5s ease-in-out infinite;
}
@keyframes pulse-slow {
0%, 100% { opacity: 0.5; transform: translate(-50%, -50%) scale(1); }
50% { opacity: 0.8; transform: translate(-50%, -50%) scale(1.05); }
}
@keyframes fade-in-up {
from { opacity: 0; transform: translateY(20px); }
to { opacity: 1; transform: translateY(0); }
}
@keyframes float-gentle {
0%, 100% { transform: translateY(0px); }
50% { transform: translateY(-8px); }
}
.floating-element {
animation: float-gentle 6s cubic-bezier(0.16, 1, 0.3, 1) infinite;
will-change: transform;
}
.hit-area {
position: relative;
}
.hit-area::before {
content: '';
position: absolute;
top: -22px;
right: -32px;
bottom: -22px;
left: -32px;
}
.hero-bottom-hint {
position: relative;
}
.hero-bottom-hint__text{
font-family: 'Inter', sans-serif;
font-size: 11px;
letter-spacing: 0.38em;
text-transform: uppercase;
color: rgba(212,175,55,0.52);
text-shadow: 0 0 18px rgba(212,175,55,0.14);
}
#elenchus-canvas {
position: absolute;
inset: 0;
width: 100%;
height: 100%;
z-index: 0;
pointer-events: none;
opacity: calc(0.55 + var(--elenchus-enter, 0) * 0.40);
}
#elenchus {
--elenchus-enter: 0;
}
.elenchus-top-soften,
.elenchus-bottom-soften {
opacity: var(--elenchus-enter, 0);
transition: opacity 520ms cubic-bezier(0.16, 1, 0.3, 1);
}
.elenchus-panel {
background: rgba(0, 0, 0, 0.22);
border: 1px solid rgba(255,255,255,0.08);
backdrop-filter: blur(14px);
-webkit-backdrop-filter: blur(14px);
box-shadow: 0 0 60px rgba(0,0,0,0.6);
}
.elenchus-bottom-soften {
position: absolute;
left: 0;
right: 0;
bottom: 0;
height: 22vh;
z-index: 2;
pointer-events: none;
background: linear-gradient(to bottom, rgba(2,2,4,0) 0%, rgba(2,2,4,0.75) 55%, rgba(2,2,4,0.98) 100%);
}
.elenchus-top-soften {
position: absolute;
left: 0;
right: 0;
top: 0;
height: 18vh;
z-index: 2;
pointer-events: none;
background: linear-gradient(to top, rgba(2,2,4,0) 0%, rgba(2,2,4,0.65) 58%, rgba(2,2,4,0.96) 100%);
}
.prism-stage {
position: relative;
min-height: 100vh;
width: 100%;
overflow: hidden;
display: flex;
align-items: center;
justify-content: center;
}
.prism-frame {
width: 100%;
max-width: 1120px;
padding-left: 2rem;
padding-right: 2rem;
position: relative;
z-index: 20;
}
.prism-soft-top,
.prism-soft-bottom {
position: absolute;
left: 0;
right: 0;
height: 18vh;
pointer-events: none;
z-index: 2;
}
.prism-soft-top {
top: 0;
background: linear-gradient(to top, rgba(2,2,4,0) 0%, rgba(2,2,4,0.55) 58%, rgba(2,2,4,0.92) 100%);
}
.prism-soft-bottom {
bottom: 0;
background: linear-gradient(to bottom, rgba(2,2,4,0) 0%, rgba(2,2,4,0.65) 58%, rgba(2,2,4,0.96) 100%);
}
.prism-wrap {
position: relative;
height: 84vh;
min-height: 640px;
width: 100%;
display: grid;
grid-template-columns: 1.05fr 0.95fr;
gap: 56px;
align-items: center;
}
.prism-text {
max-width: 520px;
}
.prism-pillar-area {
position: relative;
height: 84vh;
min-height: 640px;
}
.prism-pillar {
--accent: rgba(170, 220, 230, 0.55);
--accent2: rgba(170, 220, 230, 0.22);
--glow: 0;
position: absolute;
bottom: 42px;
border-radius: 18px;
pointer-events: none;
opacity: 0.92;
transform-origin: 50% 85%;
}
.prism-pillar::before {
content: '';
position: absolute;
inset: 0;
border-radius: 18px;
background:
linear-gradient(110deg,
rgba(255,255,255,0.11) 0%,
rgba(255,255,255,0.02) 24%,
rgba(255,255,255,0.02) 56%,
rgba(255,255,255,0.08) 100%),
repeating-linear-gradient(100deg,
rgba(255,255,255,0.025) 0px,
rgba(255,255,255,0.025) 1px,
rgba(255,255,255,0) 10px,
rgba(255,255,255,0) 18px);
box-shadow:
0 0 0 1px rgba(255,255,255,0.08) inset,
0 18px 80px rgba(0,0,0,0.55);
}
.prism-pillar::after {
content: '';
position: absolute;
inset: 0;
border-radius: 18px;
background:
linear-gradient(to right,
rgba(255,255,255,0.12) 0%,
rgba(255,255,255,0.02) 18%,
rgba(255,255,255,0.0) 50%,
rgba(255,255,255,0.03) 82%,
rgba(255,255,255,0.16) 100%);
opacity: 0.7;
mix-blend-mode: screen;
}
.prism-edge {
position: absolute;
inset: -2px;
border-radius: 20px;
pointer-events: none;
opacity: calc(var(--glow) * 0.95);
background:
linear-gradient(92deg,
rgba(255,255,255,0) 0%,
var(--accent) 28%,
rgba(255,255,255,0) 52%,
var(--accent2) 78%,
rgba(255,255,255,0) 100%);
filter: blur(0.35px);
}
.prism-dispersion {
position: absolute;
left: 50%;
top: 16%;
width: 420px;
height: 68%;
transform: translateX(-50%) skewX(-10deg);
pointer-events: none;
opacity: calc(var(--glow) * 0.85);
}
.prism-dispersion > span {
position: absolute;
left: 0;
right: 0;
height: 4px;
border-radius: 999px;
filter: blur(0.3px);
}
.prism-dispersion .c1 {
top: 38%;
background: rgba(160, 220, 230, 0.28);
box-shadow: 0 0 24px rgba(160, 220, 230, 0.14);
transform: translateX(calc(-26px * var(--glow)));
}
.prism-dispersion .c2 {
top: 44.5%;
background: rgba(195, 170, 235, 0.22);
box-shadow: 0 0 24px rgba(195, 170, 235, 0.12);
transform: translateX(calc(0px * var(--glow)));
}
.prism-dispersion .c3 {
top: 51%;
background: rgba(212, 175, 55, 0.20);
box-shadow: 0 0 24px rgba(212, 175, 55, 0.10);
transform: translateX(calc(22px * var(--glow)));
}
.kw {
position: relative;
display: inline-block;
}
.kw::after {
content: '';
position: absolute;
left: 0;
right: 0;
bottom: -3px;
height: 2px;
border-radius: 999px;
background: rgba(255,255,255,0);
box-shadow: 0 0 0 rgba(255,255,255,0);
opacity: 0;
transform: scaleX(0.86);
transform-origin: center;
transition: opacity 420ms cubic-bezier(0.16, 1, 0.3, 1), transform 420ms cubic-bezier(0.16, 1, 0.3, 1);
}
.prism-active .kw::after {
opacity: 1;
transform: scaleX(1);
}
.kw-cyan::after {
background: rgba(160, 220, 230, 0.32);
box-shadow: 0 0 22px rgba(160, 220, 230, 0.14);
}
.kw-violet::after {
background: rgba(195, 170, 235, 0.26);
box-shadow: 0 0 22px rgba(195, 170, 235, 0.12);
}
.kw-gold::after {
background: rgba(212, 175, 55, 0.26);
box-shadow: 0 0 22px rgba(212, 175, 55, 0.10);
}
/* 3. IMAGE TORCH REVEAL */
.reveal-image-container {
position: relative;
overflow: hidden;
border-radius: 4px;
}
.image-veil {
position: absolute;
inset: 0;
background-color: rgba(0,0,0,0.9);
z-index: 10;
transition: opacity 0.5s ease;
pointer-events: none;
mask-image: radial-gradient(
circle 250px at var(--local-x, 50%) var(--local-y, 50%),
transparent 0%,
black 60%
);
-webkit-mask-image: radial-gradient(
circle 250px at var(--local-x, 50%) var(--local-y, 50%),
transparent 0%,
black 60%
);
}
/* 4. SOCRATIC INPUT */
.socratic-input {
border-bottom: 1px solid rgba(255,255,255,0.1);
transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
}
.socratic-input:focus {
border-bottom-color: #D4AF37 !important;
box-shadow: 0 10px 30px -10px rgba(212, 175, 55, 0.1);
}
.fragment {
position: absolute;
font-family: 'EB Garamond', serif;
font-style: italic;
opacity: 0.05;
transition: opacity 0.5s ease, color 0.5s ease;
white-space: nowrap;
}
.fragment.illuminated {
opacity: 0.8 !important;
color: #D4AF37;
text-shadow: 0 0 15px rgba(212, 175, 55, 0.3);
}
/* Constellation Nodes */
.node-point {
width: 6px; height: 6px;
background: rgba(255,255,255,0.15);
border-radius: 50%;
transition: all 0.5s ease;
position: relative;
}
.node-point::after {
content: '';
position: absolute;
top: 50%; left: 50%;
width: 40px; height: 40px;
transform: translate(-50%, -50%);
border: 1px solid rgba(212, 175, 55, 0);
border-radius: 50%;
transition: all 0.5s ease;
}
.node-point:hover {
background: #D4AF37;
box-shadow: 0 0 20px #D4AF37;
}
.node-point:hover::after {
width: 60px; height: 60px;
border-color: rgba(212, 175, 55, 0.3);
}
body.light-mode {
background-color: #FDFDFB;
color: #050505;
}
body.light-mode .text-inverse { color: #050505; }
body.light-mode #cursor-ui {
background: radial-gradient(circle, rgba(0,0,0,0.1) 0%, transparent 60%);
width: 60px; height: 60px;
transform: translate3d(calc(var(--cx) - 30px), calc(var(--cy) - 30px), 0);
}
@keyframes drift-slow {
0% { transform: translate3d(0, 0, 0) rotate(0.001deg); }
50% { transform: translate3d(0, -10px, 0) rotate(0.001deg); }
100% { transform: translate3d(0, 0, 0) rotate(0.001deg); }
}
.floating-fragment {
animation: drift-slow 10s ease-in-out infinite;
will-change: transform;
}
@keyframes drift-micro {
0%, 100% { transform: translate3d(0, 0, 0); }
50% { transform: translate3d(0, -6px, 0); }
}
#brush-canvas {
position: fixed;
inset: 0;
width: 100vw;
height: 100vh;
pointer-events: none;
z-index: 40;
opacity: 0;
}
body.light-mode #brush-canvas { opacity: 0; }
.top-motto {
position: absolute;
top: 88px;
left: 50%;
transform: translateX(-50%);
z-index: 45;
pointer-events: none;
font-family: 'EB Garamond', serif;
font-style: italic;
font-size: 12px;
letter-spacing: 0.28em;
text-transform: uppercase;
color: rgba(255, 255, 255, 0.22);
text-shadow: 0 0 18px rgba(212, 175, 55, 0.08);
 animation: drift-micro 7s ease-in-out infinite;
 }
 .persistent-nav {
 mix-blend-mode: difference;
 z-index: 9999 !important;
 pointer-events: auto !important;
 }
 .nav-link {
 position: relative;
 display: inline-flex;
 align-items: center;
 padding: 10px 10px;
 transform: translateY(0);
 transition: transform 420ms cubic-bezier(0.16, 1, 0.3, 1), color 420ms cubic-bezier(0.16, 1, 0.3, 1), text-shadow 420ms cubic-bezier(0.16, 1, 0.3, 1);
 }
 .nav-link::before {
 content: '';
 position: absolute;
 left: -14px;
 right: -14px;
 top: 50%;
 height: 30px;
 transform: translateY(-50%);
 border-radius: 999px;
 background: radial-gradient(circle 120px at 50% 50%, rgba(212,175,55,0.08) 0%, rgba(212,175,55,0.035) 35%, rgba(0,0,0,0) 70%);
 opacity: 0;
 filter: blur(0.2px);
 transition: opacity 520ms cubic-bezier(0.16, 1, 0.3, 1);
 }
 .nav-link::after {
 content: '';
 position: absolute;
 left: 12%;
 right: 12%;
 bottom: -7px;
 height: 2px;
 background: rgba(212, 175, 55, 0.78);
 box-shadow: 0 0 22px rgba(212, 175, 55, 0.22);
 transform: scaleX(0);
 transform-origin: center;
 opacity: 0;
 transition: transform 520ms cubic-bezier(0.16, 1, 0.3, 1), opacity 520ms cubic-bezier(0.16, 1, 0.3, 1);
 }
 .nav-link:hover {
 transform: translateY(-2px);
 text-shadow: 0 0 18px rgba(212, 175, 55, 0.22);
 }
 .nav-link:hover::before {
 opacity: 1;
 }
 .nav-link:hover::after {
 transform: scaleX(1);
 opacity: 1;
 }
</style></head>
<body>

    <!-- VISUAL ENGINE LAYERS -->
    <div class="hero-grain"></div>
    <div class="ambient-hint"></div>
    <div id="cursor-ui"></div>
    <div id="cursor-dot"></div>
    <canvas id="brush-canvas"></canvas>
    <div id="lumen-boost"></div>
    <div id="the-veil"></div>

    <!-- Global Header Navigation -->
    <nav class="fixed top-0 left-0 w-full px-8 py-6 flex justify-between items-center content-layer z-50 persistent-nav pointer-events-auto">
        <div class="flex items-center gap-2 group">
            <div class="w-2 h-2 rounded-full bg-white/20 group-hover:bg-aureate transition-colors"></div>
            <span class="font-sans text-xs tracking-widest uppercase text-white/40 group-hover:text-white transition-colors">Aletheia</span>
        </div>
        <div class="hidden md:flex gap-8">
            <a href="#maieutics" class="nav-link font-sans text-xs tracking-widest uppercase text-white/40 hover:text-aureate transition-colors">Maieutics</a>
            <a href="#elenchus" class="nav-link font-sans text-xs tracking-widest uppercase text-white/40 hover:text-aureate transition-colors">Elenchus</a>
            <a href="#prism" class="nav-link font-sans text-xs tracking-widest uppercase text-white/40 hover:text-aureate transition-colors">Prism</a>
            <a href="#agora" class="nav-link font-sans text-xs tracking-widest uppercase text-white/40 hover:text-aureate transition-colors">Agora</a>
        </div>
        <div class="w-8"></div>
    </nav>

    <!-- 1. HERO SECTION -->
    <section class="relative h-screen w-full flex flex-col items-center justify-center overflow-hidden fragment-layer" id="hero">
        
        <div class="top-motto">Aletheia · The Unveiling of Reason</div>

        <!-- Distributed Fragments (Z-0) -->
        <div class="absolute inset-0 w-full h-full select-none pointer-events-none">
            <span class="fragment text-2xl top-[15%] left-[8%] rotate-[-5deg] text-white/20">The unexamined life</span>
            <span class="fragment text-4xl top-[45%] left-[15%] opacity-5">Shadows</span>
            <span class="fragment text-sm top-[75%] left-[10%] tracking-widest uppercase">Episteme</span>
            <span class="fragment text-3xl top-[20%] right-[6%] rotate-[10deg] text-white/20">Know Thyself</span>
            <span class="fragment text-xl top-[55%] right-[9%] font-light italic">Does truth hide?</span>
            <span class="fragment text-xs bottom-[15%] right-[8%] tracking-[0.5em] text-aureate">ALETHEIA</span>
            <span class="fragment text-6xl top-[-5%] left-[50%] -translate-x-1/2 opacity-5 whitespace-nowrap">PLATO'S CAVE</span>
            <span class="fragment text-lg bottom-[10%] left-[40%] font-serif">Aporia</span>
            <span class="fragment floating-fragment text-sm top-[10%] left-[42%] tracking-[0.4em] uppercase text-white/10" style="animation-delay: -2s;">MAIEUTICS</span>
            <span class="fragment floating-fragment text-3xl top-[32%] left-[5%] rotate-[6deg] text-white/15" style="animation-delay: -6s;">Define Justice</span>
            <span class="fragment floating-fragment text-xl top-[62%] left-[22%] rotate-[-3deg] text-white/10" style="animation-delay: -4s;">Ignorance is a beginning</span>
            <span class="fragment floating-fragment text-xs top-[28%] right-[6%] tracking-[0.5em] uppercase text-white/10" style="animation-delay: -8s;">ELENCHUS</span>
            <span class="fragment floating-fragment text-4xl bottom-[15%] right-[22%] italic text-white/10" style="animation-delay: -3s;">Question everything</span>
            <span class="fragment floating-fragment text-lg top-[48%] right-[36%] rotate-[2deg] text-white/10" style="animation-delay: -9s;">The first step is doubt</span>
            <span class="fragment floating-fragment text-sm bottom-[35%] left-[8%] tracking-widest uppercase text-white/10" style="animation-delay: -5s;">ANAMNESIS</span>
            <span class="fragment floating-fragment text-2xl bottom-[18%] left-[55%] rotate-[-2deg] text-white/10" style="animation-delay: -7s;">Speak, that I may see you</span>
            <span class="fragment floating-fragment text-xs bottom-[8%] left-[18%] tracking-[0.6em] uppercase text-white/10" style="animation-delay: -10s;">DAIMONION</span>
            <span class="fragment floating-fragment text-5xl top-[75%] right-[8%] rotate-[90deg] opacity-5 whitespace-nowrap" style="animation-delay: -1s;">TRUTH</span>
        </div>

        <!-- David Effect Canvas (Right Side) -->
        <iframe id="david-embed" class="absolute right-[-6%] top-[4%] w-[60vw] h-[92vh] z-10 pointer-events-none opacity-80 mix-blend-screen" src="david_effect_embed.html" title="david effect" loading="lazy" referrerpolicy="no-referrer" tabindex="-1"></iframe>

        <!-- Main Content (Z-10) -->
        <div class="content-layer text-center px-6 mix-blend-screen relative flex flex-col items-center">
            <h1 class="font-serif text-[13vw] md:text-[9vw] leading-[0.85] tracking-tightest text-white opacity-90 mb-12">
                The Truth <br>
                <span class="text-aureate italic font-light opacity-90">Is Within.</span>
            </h1>
            
            <!-- Software Experience Entry Button (Under The Veil) -->
            <div class="mt-16 opacity-0 animate-[fade-in-up_1s_ease_forwards_0.5s] relative group z-50 pointer-events-auto flex justify-center w-full">
                <button onclick="document.getElementById('maieutics').scrollIntoView()" class="hit-area floating-element group relative flex items-center gap-4 bg-[#D4AF37] text-white px-10 py-5 rounded-full transition-all duration-500 hover:bg-white hover:text-black hover:scale-105 hover:shadow-[0_0_50px_-12px_rgba(212,175,55,0.55)] shadow-[0_0_28px_-8px_rgba(212,175,55,0.35)]">
                    <span class="font-sans text-xs font-bold tracking-[0.2em] uppercase">Start the Dialogue</span>
                    <iconify-icon icon="solar:arrow-down-linear" width="18" height="18" class="group-hover:translate-y-1 transition-transform duration-300"></iconify-icon>
                </button>
            </div>
            <div class="hero-bottom-hint pointer-events-none select-none mt-6 opacity-0 animate-[fade-in-up_1s_ease_forwards_0.9s]">
                 <span class="hero-bottom-hint__text">NOW THAT YOU CAN SEE, BEGIN TO EXAMINE.</span>
             </div>
        </div>
    </section>

    <!-- 2. MAIEUTICS SECTION -->
    <section class="relative min-h-screen w-full flex items-center py-24 z-10 overflow-hidden" id="maieutics">
        <div class="max-w-7xl mx-auto w-full grid grid-cols-1 lg:grid-cols-2 gap-20 px-8 items-center">
            
            <div class="relative order-2 lg:order-1 h-[600px] flex items-center justify-center reveal-image-container group">
                <img src="https://images.unsplash.com/photo-1598263592186-b4d0046e2794?q=80&amp;w=1200&amp;auto=format&amp;fit=crop" alt="Marble Bust" class="w-full h-full object-contain grayscale contrast-125 transition-transform duration-700 group-hover:scale-[1.02]">
                <!-- The Image Veil -->
                <div class="image-veil"></div>
                <!-- Border Hint -->
                <div class="absolute inset-0 border border-white/5 pointer-events-none"></div>
            </div>

            <div class="order-1 lg:order-2 space-y-12 relative z-20">
                <div class="border-l border-white/10 pl-8">
                    <h2 class="font-serif text-5xl md:text-6xl text-white leading-none tracking-tight mb-6">
                        Maieutics <br>
                        <span class="text-white/40 italic text-4xl">The Art of Midwifery</span>
                    </h2>
                    <p class="font-sans text-sm text-white/60 leading-loose max-w-md tracking-wide">
                        Ideas are not taught; they are recalled. Like a sculpture trapped in marble, the truth already exists within your mind. We simply remove the excess stone.
                    </p>
                </div>
                
                <div class="flex gap-4 items-center pl-8 opacity-60">
                    <iconify-icon icon="solar:round-alt-arrow-right-linear" class="text-2xl text-aureate"></iconify-icon>
                    <span class="font-sans text-[10px] uppercase tracking-widest">Scroll to excavate</span>
                </div>
            </div>
        </div>
    </section>

    <!-- 3. ELENCHUS SECTION -->
    <section class="relative min-h-screen w-full flex items-center justify-center z-10 overflow-hidden" id="elenchus">
        <div class="absolute inset-0 border-t border-b border-white/5 bg-white/[0.01]" style="z-index: 1;"></div>
        <canvas id="elenchus-canvas"></canvas>
        <div class="elenchus-top-soften"></div>
        <div class="elenchus-bottom-soften"></div>

        <div class="relative z-20 w-full max-w-6xl px-8">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-14 items-center">
                <div class="text-left">
                    <span class="font-sans text-[10px] text-aureate tracking-widest uppercase mb-4 block">The Constellation of Logic</span>
                    <h2 class="font-serif text-5xl md:text-6xl text-white tracking-tight leading-[0.95]">Elenchus</h2>
                    <p class="font-sans text-sm text-white/55 leading-loose max-w-xl mt-8 tracking-wide">
                        Here, contradictions do not end a thought—
                        they begin its structure.
                    </p>
                    <p class="font-sans text-xs text-white/35 leading-loose max-w-xl mt-6 tracking-wider">
                        (Reserved for future product messaging)
                    </p>
                </div>

                <div class="elenchus-panel rounded-2xl p-10 md:p-12">
                    <div class="flex items-center gap-3 mb-6">
                        <div class="w-2 h-2 rounded-full bg-aureate/70"></div>
                        <span class="font-sans text-[10px] uppercase tracking-[0.35em] text-white/50">Marketing Slot</span>
                    </div>
                    <h3 class="font-serif text-2xl md:text-3xl text-white/90 tracking-tight">A map for reasoning.</h3>
                    <p class="font-sans text-sm text-white/55 leading-loose mt-5">
                        Place future copy here: what the agent can decompose,
                        how fragments connect, and why the model reveals structure.
                    </p>
                    <div class="mt-8 h-px bg-white/10"></div>
                    <p class="font-sans text-xs text-white/35 leading-loose mt-6">
                        Hover near nodes to reveal connections.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- 4. PRISM SECTION -->
    <section class="prism-stage" id="prism">
        <div class="absolute inset-0 border-t border-b border-white/5 bg-white/[0.01]" style="z-index: 1;"></div>
        <div class="prism-soft-top"></div>
        <div class="prism-soft-bottom"></div>

        <div class="prism-frame">
            <div class="prism-wrap">
                <div class="prism-text">
                    <span class="font-sans text-[10px] text-aureate tracking-widest uppercase mb-4 block">The Matrix of Clarity</span>
                    <h2 class="font-serif text-5xl md:text-6xl text-white tracking-tight leading-[0.95]">The Prism</h2>
                    <p class="font-sans text-sm text-white/55 leading-loose max-w-xl mt-8 tracking-wide">
                        When light passes through a tool, it becomes legible.
                        Not louder—just clearer.
                    </p>
                    <div class="mt-10 space-y-6">
                        <div class="text-white/60 leading-loose font-sans text-sm">
                            <span class="text-white/40 uppercase tracking-[0.35em] text-[10px] block mb-2">Capability</span>
                            <div class="prism-copy" data-pillar="p1">
                                <span class="font-serif italic text-white/80">Logical Verification</span>
                                <span class="text-white/40"> — </span>
                                <span>turn <span class="kw kw-cyan">consistency</span> into something you can trust.</span>
                            </div>
                        </div>
                        <div class="text-white/60 leading-loose font-sans text-sm">
                            <div class="prism-copy" data-pillar="p2">
                                <span class="font-serif italic text-white/80">Fallacy Detection</span>
                                <span class="text-white/40"> — </span>
                                <span>surface <span class="kw kw-violet">contradictions</span> before they become conclusions.</span>
                            </div>
                        </div>
                        <div class="text-white/60 leading-loose font-sans text-sm">
                            <div class="prism-copy" data-pillar="p3">
                                <span class="font-serif italic text-white/80">Socratic Prompting</span>
                                <span class="text-white/40"> — </span>
                                <span>ask the <span class="kw kw-gold">right question</span> until the answer sharpens.</span>
                            </div>
                        </div>
                        <p class="font-sans text-xs text-white/35 leading-loose mt-6 tracking-wider">
                            Move the torch across the prisms to refract the keywords.
                        </p>
                    </div>
                </div>

                <div class="prism-pillar-area" id="prism-area">
                    <div class="prism-pillar" id="p1" style="left: 14%; width: 90px; height: 72vh; transform: rotate(-7deg); --accent: rgba(160, 220, 230, 0.55); --accent2: rgba(160, 220, 230, 0.18);">
                        <div class="prism-edge"></div>
                        <div class="prism-dispersion"><span class="c1"></span><span class="c2"></span><span class="c3"></span></div>
                    </div>
                    <div class="prism-pillar" id="p2" style="left: 44%; width: 74px; height: 64vh; bottom: 30px; transform: rotate(5deg); --accent: rgba(195, 170, 235, 0.48); --accent2: rgba(195, 170, 235, 0.18);">
                        <div class="prism-edge"></div>
                        <div class="prism-dispersion"><span class="c1"></span><span class="c2"></span><span class="c3"></span></div>
                    </div>
                    <div class="prism-pillar" id="p3" style="left: 66%; width: 82px; height: 78vh; bottom: 54px; transform: rotate(-3deg); --accent: rgba(212, 175, 55, 0.42); --accent2: rgba(212, 175, 55, 0.16);">
                        <div class="prism-edge"></div>
                        <div class="prism-dispersion"><span class="c1"></span><span class="c2"></span><span class="c3"></span></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 5. AGORA SECTION -->
    <section class="relative min-h-screen w-full flex flex-col items-center justify-center py-32 z-20" id="agora">
        <div class="text-center max-w-4xl px-6 relative z-30">
            <h2 class="font-serif text-7xl md:text-9xl tracking-tightest mb-8 text-inverse transition-colors duration-1000">
                The Agora
            </h2>
            <p class="font-sans text-sm tracking-widest uppercase mb-20 opacity-50 text-inverse transition-colors duration-1000">
                Where shadows dissolve into light
            </p>
            
            <div class="relative w-full max-w-2xl mx-auto group">
                <input type="text" placeholder="What is the nature of Good?" class="socratic-input w-full bg-transparent border-b border-white/20 py-8 text-center font-serif text-4xl md:text-6xl focus:outline-none placeholder:text-white/20 placeholder:italic placeholder:font-light transition-all duration-500 text-inverse caret-[#D4AF37]">
                
                <div class="mt-8 opacity-0 group-focus-within:opacity-100 transition-all duration-500 transform translate-y-2 group-focus-within:translate-y-0 flex justify-center items-center gap-2 text-[#D4AF37]">
                    <span class="text-xs font-sans font-semibold uppercase tracking-widest">Press Enter to Descend</span>
                </div>
            </div>
        </div>

        <footer class="absolute bottom-0 w-full px-12 py-12 flex justify-between items-end">
            <div class="flex flex-col gap-2">
                <span class="font-serif italic text-lg opacity-50 text-inverse">Aletheia Systems</span>
            </div>
            <div class="flex gap-12 font-sans text-[10px] uppercase tracking-widest opacity-40 text-inverse">
                <a href="#" class="hover:text-aureate transition-colors">Manifesto</a>
                <a href="#" class="hover:text-aureate transition-colors">Contact</a>
            </div>
        </footer>
    </section>

    <!-- PHYSICS ENGINE -->
    <script>
        const ENABLE_BRUSH_TRAIL = false;

        const CONFIG = {
            lerpFactor: 0.12, 
            torchRadius: 450,
            scrollTriggerVh: 0.7,
        };

        const state = {
            mouse: { x: window.innerWidth / 2, y: window.innerHeight / 2 },
            pos: { x: window.innerWidth / 2, y: window.innerHeight / 2 },
            isMobile: false
        };

        const r = document.querySelector(':root');
        const veil = document.getElementById('the-veil');
        const fragments = document.querySelectorAll('.fragment');
        const imageContainers = document.querySelectorAll('.reveal-image-container');
        const imageVeils = document.querySelectorAll('.image-veil');
        const body = document.body;
        const agoraSection = document.getElementById('agora');
        const lumenBoost = document.getElementById('lumen-boost');
        const elenchusSection = document.getElementById('elenchus');
        const elenchusCanvas = document.getElementById('elenchus-canvas');
        const brushCanvas = document.getElementById('brush-canvas');
        const cursorDot = document.getElementById('cursor-dot');
        const prismArea = document.getElementById('prism-area');
        const prismPillars = prismArea ? prismArea.querySelectorAll('.prism-pillar') : [];
        const prismCopies = document.querySelectorAll('.prism-copy');

        let brushCtx = null;
        let brushDpr = 1;
        let brushReady = false;
        let brushLast = { x: 0, y: 0, t: 0, has: false };
        const brushMarks = [];

        const initBrushTrail = () => {
            if (!brushCanvas) return;
            brushCtx = brushCanvas.getContext('2d');
            if (!brushCtx) return;
            brushReady = true;
        };

        const resizeBrushCanvas = () => {
            if (!brushCanvas || !brushReady) return;
            brushDpr = Math.min(window.devicePixelRatio || 1, 2);
            brushCanvas.width = Math.floor(window.innerWidth * brushDpr);
            brushCanvas.height = Math.floor(window.innerHeight * brushDpr);
            brushCanvas.style.width = '100vw';
            brushCanvas.style.height = '100vh';
            brushCtx.setTransform(brushDpr, 0, 0, brushDpr, 0, 0);
        };

        const addBrushSegment = (x0, y0, x1, y1, now) => {
            const dx = x1 - x0;
            const dy = y1 - y0;
            const dist = Math.hypot(dx, dy);
            if (dist < 2) return;

            const steps = Math.min(12, Math.max(2, Math.floor(dist / 8)));
            for (let i = 0; i <= steps; i++) {
                const t = i / steps;
                const x = x0 + dx * t;
                const y = y0 + dy * t;
                const jx = (Math.sin((now * 0.006) + i * 3.1) * 0.9);
                const jy = (Math.cos((now * 0.006) + i * 2.3) * 0.9);
                brushMarks.push({
                    x: x + jx,
                    y: y + jy,
                    born: now,
                    life: 780,
                    w: 10 + (i % 3) * 2,
                    a: 0.055,
                });
            }

            while (brushMarks.length > 180) brushMarks.shift();
        };

        const renderBrushTrail = (now) => {
            if (!brushReady || !brushCtx) return;

            const ctx = brushCtx;
            const w = window.innerWidth;
            const h = window.innerHeight;

            if (!body.classList.contains('light-mode')) {
                ctx.clearRect(0, 0, w, h);
                brushLast.has = false;
                return;
            }

            ctx.clearRect(0, 0, w, h);
            ctx.globalCompositeOperation = 'multiply';

            for (let i = brushMarks.length - 1; i >= 0; i--) {
                const m = brushMarks[i];
                const age = now - m.born;
                if (age >= m.life) {
                    brushMarks.splice(i, 1);
                    continue;
                }

                const k = 1 - (age / m.life);
                const alpha = m.a * (k * k);

                ctx.fillStyle = `rgba(0,0,0,${alpha})`;
                ctx.beginPath();
                ctx.ellipse(m.x, m.y, m.w * 0.65, m.w * 0.32, 0, 0, Math.PI * 2);
                ctx.fill();

                ctx.strokeStyle = `rgba(0,0,0,${alpha * 0.55})`;
                ctx.lineWidth = 1;
                ctx.beginPath();
                ctx.arc(m.x, m.y, m.w * 0.55, 0, Math.PI * 2);
                ctx.stroke();
            }

            ctx.globalCompositeOperation = 'source-over';
        };

        let elenchusCtx = null;
        let elenchusNodes = [];
        let elenchusDpr = 1;
        let elenchusReady = false;
        let elenchusEnter = 0;

        const initElenchusConstellation = () => {
            if (!elenchusCanvas || !elenchusSection) return;
            elenchusCtx = elenchusCanvas.getContext('2d');
            if (!elenchusCtx) return;

            const count = 18;
            elenchusNodes = Array.from({ length: count }, (_, i) => {
                const nx = 0.12 + Math.random() * 0.76;
                const ny = 0.18 + Math.random() * 0.64;
                return {
                    id: i,
                    nx,
                    ny,
                    baseR: 1.1 + Math.random() * 1.6,
                    amp: 10 + Math.random() * 26,
                    speed: 0.35 + Math.random() * 0.55,
                    phase: Math.random() * Math.PI * 2,
                    hueShift: Math.random() * 0.12,
                };
            });
            elenchusReady = true;
        };

        const resizeElenchusCanvas = () => {
            if (!elenchusCanvas || !elenchusSection) return;
            const rect = elenchusSection.getBoundingClientRect();
            const w = Math.max(1, Math.floor(rect.width));
            const h = Math.max(1, Math.floor(rect.height));

            elenchusDpr = Math.min(window.devicePixelRatio || 1, 2);
            elenchusCanvas.width = Math.floor(w * elenchusDpr);
            elenchusCanvas.height = Math.floor(h * elenchusDpr);
            elenchusCanvas.style.width = `${w}px`;
            elenchusCanvas.style.height = `${h}px`;

            if (elenchusCtx) {
                elenchusCtx.setTransform(elenchusDpr, 0, 0, elenchusDpr, 0, 0);
            }
        };

        const isSectionInView = (el) => {
            const rect = el.getBoundingClientRect();
            const vh = window.innerHeight;
            return rect.bottom > -120 && rect.top < vh + 120;
        };

        const renderElenchusConstellation = (tMs) => {
            if (state.isMobile) return;
            if (!elenchusReady || !elenchusCtx || !elenchusSection || !elenchusCanvas) return;
            if (!isSectionInView(elenchusSection)) return;

            const rect = elenchusSection.getBoundingClientRect();
            const w = Math.floor(rect.width);
            const h = Math.floor(rect.height);
            if (w < 2 || h < 2) return;

            const ctx = elenchusCtx;
            const time = tMs * 0.001;
            const enter = Math.max(0, Math.min(1, elenchusEnter));
            const lerp = (a, b, t) => a + (b - a) * t;

            ctx.clearRect(0, 0, w, h);

            const pr0 = { r: 4, g: 7, b: 12 };
            const pr1 = { r: 9, g: 20, b: 36 };
            const pr2 = { r: 6, g: 10, b: 18 };
            const pr3 = { r: 2, g: 3, b: 6 };

            const bg0 = `rgba(${Math.round(lerp(14, pr1.r, enter))}, ${Math.round(lerp(14, pr1.g, enter))}, ${Math.round(lerp(18, pr1.b, enter))}, 0.96)`;
            const bg1 = `rgba(${Math.round(lerp(6, pr2.r, enter))}, ${Math.round(lerp(6, pr2.g, enter))}, ${Math.round(lerp(10, pr2.b, enter))}, 0.96)`;
            const bg2 = `rgba(${Math.round(lerp(2, pr3.r, enter))}, ${Math.round(lerp(2, pr3.g, enter))}, ${Math.round(lerp(4, pr3.b, enter))}, 0.99)`;

            const g = ctx.createRadialGradient(w * 0.55, h * 0.45, 10, w * 0.55, h * 0.45, Math.max(w, h) * 0.9);
            g.addColorStop(0, bg0);
            g.addColorStop(0.55, bg1);
            g.addColorStop(1, bg2);
            ctx.fillStyle = g;
            ctx.fillRect(0, 0, w, h);

            const bhx = w * 0.56;
            const bhy = h * 0.60;
            const bhR = Math.min(w, h) * 0.34;
            const spin = time * 0.22;

            ctx.save();
            ctx.translate(bhx, bhy);
            ctx.rotate(spin);
            ctx.globalCompositeOperation = 'screen';

            for (let k = 0; k < 18; k++) {
                const frac = k / 18;
                const r0 = bhR * (0.18 + frac * 1.12);
                const a0 = 0.018 + (1 - frac) * 0.032;
                ctx.strokeStyle = `rgba(212,175,55,${a0})`;
                ctx.lineWidth = 1;
                ctx.beginPath();
                const wobble = 0.20 + frac * 0.32;
                const start = (Math.PI * 2) * (0.1 + frac * 0.06) + Math.sin(time * 0.45 + frac * 3.1) * 0.12;
                const end = start + Math.PI * (1.25 + frac * 0.35);
                ctx.ellipse(0, 0, r0, r0 * (0.42 + wobble), 0, start, end);
                ctx.stroke();
            }

            const core = ctx.createRadialGradient(0, 0, 0, 0, 0, bhR * 0.85);
            core.addColorStop(0, 'rgba(0,0,0,0.98)');
            core.addColorStop(0.35, 'rgba(0,0,0,0.84)');
            core.addColorStop(0.72, 'rgba(6,6,10,0.22)');
            core.addColorStop(1, 'rgba(0,0,0,0)');
            ctx.fillStyle = core;
            ctx.beginPath();
            ctx.arc(0, 0, bhR * 1.02, 0, Math.PI * 2);
            ctx.fill();

            const halo = ctx.createRadialGradient(0, 0, bhR * 0.35, 0, 0, bhR * 1.25);
            halo.addColorStop(0, 'rgba(212,175,55,0)');
            halo.addColorStop(0.5, 'rgba(212,175,55,0.04)');
            halo.addColorStop(1, 'rgba(0,0,0,0)');
            ctx.globalCompositeOperation = 'screen';
            ctx.fillStyle = halo;
            ctx.beginPath();
            ctx.arc(0, 0, bhR * 1.25, 0, Math.PI * 2);
            ctx.fill();

            ctx.globalCompositeOperation = 'source-over';
            ctx.restore();

            ctx.globalCompositeOperation = 'screen';
            for (let i = 0; i < 70; i++) {
                const a = (i / 70) * Math.PI * 2 + spin * 1.8;
                const rr = bhR * (0.45 + (i % 9) * 0.035) + Math.sin(time * 0.9 + i) * 6;
                const x = bhx + Math.cos(a) * rr;
                const y = bhy + Math.sin(a) * rr * 0.68;
                ctx.fillStyle = `rgba(212,175,55,${0.008 + (i % 7) * 0.002})`;
                ctx.fillRect(x, y, 1, 1);
            }
            ctx.globalCompositeOperation = 'source-over';

            ctx.globalCompositeOperation = 'screen';
            for (let i = 0; i < 120; i++) {
                const sx = (Math.sin(i * 12.9898 + time * 0.3) * 43758.5453) % 1;
                const sy = (Math.sin(i * 78.233 + time * 0.23) * 19642.349) % 1;
                const x = (sx < 0 ? sx + 1 : sx) * w;
                const y = (sy < 0 ? sy + 1 : sy) * h;
                const a = 0.018 + (i % 7) * 0.003;
                ctx.fillStyle = `rgba(255,255,255,${a})`;
                ctx.fillRect(x, y, 1, 1);
            }
            ctx.globalCompositeOperation = 'source-over';

            const torchX = state.pos.x;
            const torchY = state.pos.y;
            const localTorchX = torchX - rect.left;
            const localTorchY = torchY - rect.top;

            const pts = elenchusNodes.map((n) => {
                const x0 = n.nx * w;
                const y0 = n.ny * h;
                const ax = Math.sin(time * n.speed + n.phase) * n.amp;
                const ay = Math.cos(time * (n.speed * 0.9) + n.phase * 1.3) * (n.amp * 0.6);
                const x = x0 + ax;
                const y = y0 + ay;
                const r = n.baseR + (Math.sin(time * 1.1 + n.phase) + 1) * 0.55;
                return { n, x, y, r };
            });

            const gold = 'rgba(212, 175, 55,';
            const faint = 'rgba(212, 175, 55, 0.06)';
            ctx.lineWidth = 0.7;
            ctx.strokeStyle = faint;

            ctx.beginPath();
            for (let i = 0; i < pts.length; i++) {
                let bestJ = -1;
                let bestD = 1e9;
                for (let j = 0; j < pts.length; j++) {
                    if (i === j) continue;
                    const dx = pts[i].x - pts[j].x;
                    const dy = pts[i].y - pts[j].y;
                    const d = dx * dx + dy * dy;
                    if (d < bestD) {
                        bestD = d;
                        bestJ = j;
                    }
                }
                if (bestJ >= 0 && bestD < (220 * 220)) {
                    ctx.moveTo(pts[i].x, pts[i].y);
                    ctx.lineTo(pts[bestJ].x, pts[bestJ].y);
                }
            }
            ctx.stroke();

            const near = [];
            for (const p of pts) {
                const dx = p.x - localTorchX;
                const dy = p.y - localTorchY;
                const d = Math.hypot(dx, dy);
                if (d < 160) near.push({ p, d });
            }
            near.sort((a, b) => a.d - b.d);
            if (near.length >= 2) {
                const a = near[0].p;
                const b = near[1].p;
                const intensity = Math.max(0, 1 - (near[1].d / 160));
                ctx.globalCompositeOperation = 'screen';
                ctx.lineWidth = 1;
                ctx.strokeStyle = `${gold}${0.12 + intensity * 0.35})`;
                ctx.beginPath();
                ctx.moveTo(a.x, a.y);
                ctx.lineTo(b.x, b.y);
                ctx.stroke();
                ctx.globalCompositeOperation = 'source-over';
            }

            for (const p of pts) {
                const dx = p.x - localTorchX;
                const dy = p.y - localTorchY;
                const d = Math.hypot(dx, dy);
                const glow = Math.max(0, 1 - d / 260);

                ctx.globalCompositeOperation = 'screen';
                const rr = 12 + glow * 40;
                const grad = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, rr);
                grad.addColorStop(0, `rgba(255,255,255,${0.12 + glow * 0.22})`);
                grad.addColorStop(0.35, `rgba(212,175,55,${0.06 + glow * 0.18})`);
                grad.addColorStop(1, 'rgba(0,0,0,0)');
                ctx.fillStyle = grad;
                ctx.beginPath();
                ctx.arc(p.x, p.y, rr, 0, Math.PI * 2);
                ctx.fill();

                ctx.globalCompositeOperation = 'source-over';
                ctx.fillStyle = `rgba(255,255,255,${0.35 + glow * 0.4})`;
                ctx.beginPath();
                ctx.arc(p.x, p.y, p.r + glow * 0.8, 0, Math.PI * 2);
                ctx.fill();
            }
        };

        let lastScrollY = window.scrollY;
        let isAutoScrolling = false;
        let snapTimer = null;
        let scrollAnimFrame = 0;
        const ENABLE_SCROLL_ASSIST = false;
        const sectionOrder = ['hero', 'maieutics', 'elenchus', 'prism', 'agora'];

        const cancelAutoScroll = () => {
            if (snapTimer) {
                window.clearTimeout(snapTimer);
                snapTimer = null;
            }
            if (scrollAnimFrame) {
                window.cancelAnimationFrame(scrollAnimFrame);
                scrollAnimFrame = 0;
            }
            isAutoScrolling = false;
        };

        window.addEventListener('wheel', cancelAutoScroll, { passive: true });
        window.addEventListener('touchstart', cancelAutoScroll, { passive: true });
        window.addEventListener('keydown', cancelAutoScroll);

        const easeInOutCubic = (t) => (t < 0.5 ? 4 * t * t * t : 1 - Math.pow(-2 * t + 2, 3) / 2);

        const smoothScrollToY = (targetY, durationMs) => {
            const startY = window.scrollY;
            const delta = targetY - startY;

            if (Math.abs(delta) < 2) return;

            isAutoScrolling = true;
            const startTime = performance.now();

            const step = (now) => {
                const elapsed = now - startTime;
                const t = Math.min(elapsed / durationMs, 1);
                const eased = easeInOutCubic(t);
                window.scrollTo(0, startY + delta * eased);

                if (t < 1 && isAutoScrolling) {
                    scrollAnimFrame = window.requestAnimationFrame(step);
                } else {
                    scrollAnimFrame = 0;
                    isAutoScrolling = false;
                }
            };

            scrollAnimFrame = window.requestAnimationFrame(step);
        };

        const getNextSectionEl = () => {
            const vh = window.innerHeight;

            for (let i = 0; i < sectionOrder.length - 1; i++) {
                const current = document.getElementById(sectionOrder[i]);
                const next = document.getElementById(sectionOrder[i + 1]);
                if (!current || !next) continue;

                const rect = current.getBoundingClientRect();
                const nearBottom = rect.bottom > vh * 0.7 && rect.bottom < vh + 70;
                const alreadyIntoNext = next.getBoundingClientRect().top < vh * 0.18;

                if (rect.top < vh * 0.25 && nearBottom && !alreadyIntoNext) {
                    return next;
                }
            }

            return null;
        };

        const handleResize = () => {
            state.isMobile = window.innerWidth < 768;
            resizeElenchusCanvas();
            if (ENABLE_BRUSH_TRAIL) resizeBrushCanvas();
        };
        window.addEventListener('resize', handleResize);
        handleResize();

        initElenchusConstellation();
        resizeElenchusCanvas();

        if (ENABLE_BRUSH_TRAIL) {
            initBrushTrail();
            resizeBrushCanvas();
        }

        window.addEventListener('mousemove', (e) => {
            if (!state.isMobile) {
                state.mouse.x = e.clientX;
                state.mouse.y = e.clientY;

                if (cursorDot) {
                    cursorDot.style.transform = `translate3d(${(e.clientX - 4).toFixed(2)}px, ${(e.clientY - 4).toFixed(2)}px, 0)`;
                }

                if (ENABLE_BRUSH_TRAIL && brushReady && body.classList.contains('light-mode')) {
                    const now = performance.now();
                    if (brushLast.has) {
                        const dt = now - brushLast.t;
                        if (dt > 34) {
                            addBrushSegment(brushLast.x, brushLast.y, e.clientX, e.clientY, now);
                            brushLast.t = now;
                            brushLast.x = e.clientX;
                            brushLast.y = e.clientY;
                        }
                    } else {
                        brushLast.has = true;
                        brushLast.t = now;
                        brushLast.x = e.clientX;
                        brushLast.y = e.clientY;
                    }
                }

                // Image Torch Logic
                imageContainers.forEach((container, index) => {
                    const rect = container.getBoundingClientRect();
                    const veil = imageVeils[index];
                    
                    if (veil &&
                        e.clientX >= rect.left - 100 && 
                        e.clientX <= rect.right + 100 && 
                        e.clientY >= rect.top - 100 && 
                        e.clientY <= rect.bottom + 100
                    ) {
                        const localX = e.clientX - rect.left;
                        const localY = e.clientY - rect.top;
                        veil.style.setProperty('--local-x', `${localX}px`);
                        veil.style.setProperty('--local-y', `${localY}px`);
                    }
                });
            }
        });

        const loop = () => {
            if (state.isMobile) {
                state.pos.x = window.innerWidth / 2;
                state.pos.y = window.innerHeight / 2 + (window.scrollY * 0.1); 
            } else {
                state.pos.x += (state.mouse.x - state.pos.x) * CONFIG.lerpFactor;
                state.pos.y += (state.mouse.y - state.pos.y) * CONFIG.lerpFactor;
            }

            r.style.setProperty('--cx', `${state.pos.x}px`);
            r.style.setProperty('--cy', `${state.pos.y}px`);

            fragments.forEach(frag => {
                const rect = frag.getBoundingClientRect();
                const fragX = rect.left + rect.width / 2;
                const fragY = rect.top + rect.height / 2;
                const dist = Math.hypot(fragX - state.pos.x, fragY - state.pos.y);

                if (dist < 220) { 
                    frag.classList.add('illuminated');
                } else if (dist > 450) {
                    frag.classList.remove('illuminated');
                }
            });

            if (!state.isMobile && prismArea && prismPillars.length) {
                const torchX = state.pos.x;
                const torchY = state.pos.y;

                prismPillars.forEach((pillar) => {
                    const rect = pillar.getBoundingClientRect();
                    const cx = rect.left + rect.width / 2;
                    const cy = rect.top + rect.height * 0.42;
                    const d = Math.hypot(torchX - cx, torchY - cy);
                    const near = Math.max(0, 1 - d / 260);

                    const axisX = rect.left + rect.width * 0.52;
                    const axisHit = Math.abs(torchX - axisX) < 22 && torchY > rect.top && torchY < rect.bottom;

                    pillar.style.setProperty('--glow', `${Math.min(1, near)}`);
                    if (axisHit && near > 0.18) {
                        pillar.classList.add('prism-active');
                    } else {
                        pillar.classList.remove('prism-active');
                    }
                });

                prismCopies.forEach((copy) => {
                    const target = copy.getAttribute('data-pillar');
                    const pillar = document.getElementById(target);
                    if (pillar && pillar.classList.contains('prism-active')) {
                        copy.classList.add('prism-active');
                    } else {
                        copy.classList.remove('prism-active');
                    }
                });
            }

            renderElenchusConstellation(performance.now());
            if (ENABLE_BRUSH_TRAIL) renderBrushTrail(performance.now());

            requestAnimationFrame(loop);
        };
        loop();

        window.addEventListener('scroll', () => {
            const scrollY = window.scrollY;
            const vh = window.innerHeight;
            
            const triggerPoint = vh * CONFIG.scrollTriggerVh;
            const endPoint = vh * 1.5; 
            
            let veilOpacity = 1;
            
            if (scrollY > triggerPoint) {
                const progress = Math.min((scrollY - triggerPoint) / (endPoint - triggerPoint), 1);
                veilOpacity = 1 - progress;
             }
             veil.style.opacity = veilOpacity;

             if (elenchusSection) {
                 const eRect = elenchusSection.getBoundingClientRect();
                 elenchusEnter = Math.max(0, Math.min(1, (vh * 0.9 - eRect.top) / (vh * 0.6)));
                 elenchusSection.style.setProperty('--elenchus-enter', `${elenchusEnter}`);
             }
 
             const agoraRect = agoraSection.getBoundingClientRect();
             const agoraTrigger = vh * 0.5;

            if (agoraRect.top < agoraTrigger) {
                if (!body.classList.contains('light-mode')) {
                    body.classList.add('light-mode');
                    r.style.setProperty('--blur-strength', '0px');
                    lumenBoost.style.opacity = '0'; 
                }
            } else {
                if (body.classList.contains('light-mode')) {
                    body.classList.remove('light-mode');
                    r.style.setProperty('--blur-strength', '60px');
                    lumenBoost.style.opacity = '1'; 
                }
            }
            
            if (scrollY < 100 && !body.classList.contains('light-mode')) {
                 lumenBoost.style.opacity = '1';
            }

            if (!ENABLE_SCROLL_ASSIST) {
                lastScrollY = scrollY;
                return;
            }

            const scrollDelta = scrollY - lastScrollY;
            lastScrollY = scrollY;

            if (state.isMobile) return;
            if (isAutoScrolling) return;

            if (snapTimer) {
                window.clearTimeout(snapTimer);
                snapTimer = null;
            }

            if (scrollDelta > 0) {
                snapTimer = window.setTimeout(() => {
                    const nextSectionEl = getNextSectionEl();
                    if (!nextSectionEl) return;

                    const targetY = window.scrollY + nextSectionEl.getBoundingClientRect().top;
                    smoothScrollToY(targetY, 1450);
                }, 240);
            }
        });

        lumenBoost.style.opacity = '1';
    </script>

</body></html>